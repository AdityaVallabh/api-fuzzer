
# Example test plan
---
crud:
  - name: create
    ref: create user auto
  - name: read
    ref: get user
    pathParams:
      username: <create.username>
  - name: update
    ref: update user auto
    pathParams:
      username: <create.username>
  - name: delete
    ref: delete user
    pathParams:
      username: <update.username>
  - name: read
    ref: get user auto
    pathParams:
      username: <delete.username>
    expect:
      status: fail

---
get pet by status:
  - path: /pet/findByStatus
    method: get
    queryParams:
      status: sold

---
# In this example, a user has attributes name, address, phone, id (returned by post)
create user:
  - path: /user
    method: post
    bodyParams:
      username: johnsmith
      phone: 888-888-8888

---
create user auto:
  - path: /user
    method: post

---
get user auto:
  - path: /user/{username}
    method: get

---
get user:
  - path: /user/{username}
    method: get
    pathParams:
      username: johnsmith

--- 
update user:
  - path: /user/{username}
    method: put
    pathParams:
      username: johnsmith
    bodyParams:
      username: johnsmith
      phone: 666-666-6666

---
get user after update:
  - path: /user/{username}
    method: get
    pathParams:
      username: johnsmith

--- 
update user auto:
  - path: /user/{username}
    method: put

---
delete user:
  - path: /user/{username}
    method: delete
    pathParams:
      username: johnsmith

---
delete user auto:
  - path: /user/{username}
    method: delete

---
get user after delete:
  - path: /user/{username}
    method: get
    pathParams:
      username: johnsmith
    expect:
      status: 404

---
auto test:
  - ref: create user auto
  - ref: get user auto
  - ref: delete user auto

---
update pet:
  - path: "/pet/{petId}"
    method: post
    pathParams:
      petId: auto # get one from DB
    formParams:
      name: new name from update pet
      status: sold
    bodyParams: # this forces body to be empty, even if there is a body in spec.

# The rule is, the parameter section should mostly be a map, with the exception
# of the bodyParams, which can be anything.